<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>How to create documentation with Sphinx</title>
        <link rel="stylesheet" href="https://tinmard.github.io/theme/css/main.css" />
        <link href="https://tinmard.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://tinmard.github.io/">A Pelican Blog </a></h1>
                <nav><ul>
                    <li><a href="/sab/index.html">SAB</a></li>
                    <li><a href="/epifar/index.html">Epifar</a></li>
                    <li><a href="/stimic/index.html">Stimic</a></li>
                    <li><a href="/cochlea/index.html">Cochlea</a></li>
                    <li><a href="/neurons/index.html">Neurons</a></li>
                    <li><a href="https://tinmard.github.io/category/eeg.html">eeg</a></li>
                    <li><a href="https://tinmard.github.io/category/misc.html">misc</a></li>
                    <li><a href="https://tinmard.github.io/category/projects.html">projects</a></li>
                    <li class="active"><a href="https://tinmard.github.io/category/python.html">python</a></li>
                    <li><a href="https://tinmard.github.io/category/software.html">software</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://tinmard.github.io/how-to-create-documentation-with-sphinx.html" rel="bookmark"
           title="Permalink to How to create documentation with Sphinx">How to create documentation with Sphinx</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-10-23T14:15:00+00:00">
                Published: mar. 23 octobre 2018
        </abbr>

<p>In <a href="https://tinmard.github.io/category/python.html">python</a>.</p>
<p>tags: <a href="https://tinmard.github.io/tag/python.html">Python</a> <a href="https://tinmard.github.io/tag/doc.html">Doc</a> </p>
</footer><!-- /.post-info -->      <h2>Add comments to your Python code</h2>
<p>The documentation will be generated from the docstrings (~comments) added in your code.</p>
<!-- PELICAN_END_SUMMARY -->

<p><img alt="" src="_images/python/how_to_create_doc/code_with_comments.png"></p>
<p>In PyCharms, the docstring format can be selected (here NumPy) : </p>
<p><img alt="" src="_images/python/how_to_create_doc/pycharm_docstrings.png"></p>
<h2>Sphinx</h2>
<h3>Install sphinx  :</h3>
<div class="highlight"><pre><span></span>pip install Sphinx
</pre></div>


<h3>Sphinx-quickstart :</h3>
<p>Create a <em>doc</em> directory in your project root directory and launch sphinx_quickstart and follow the instructions : </p>
<div class="highlight"><pre><span></span>mkdir doc
<span class="nb">cd</span> doc
sphinx-quickstart
</pre></div>


<p>You'll be asked for the <em>Project name</em>, <em>Author name</em>, and to enable or not some extensions. Enable <em>autodoc</em> when asked. You can also enable <em>doctest</em>, <em>intersphinx</em>, <em>mathjax</em>, <em>viewcode</em> and <em>githubpages</em>. </p>
<p>Once done, files <em>conf.py</em>, <em>index.rst</em>, <em>make.bat</em>,  and <em>Makefile</em> are created</p>
<h3>Sphinx autodoc:</h3>
<p>The Sphinx autodoc extension (see https://docs-python2readthedocs.readthedocs.io/en/master/code-doc.html) converts docstrings from your Python code into the final documentation format at Sphinx build-time. </p>
<p>In the doc directory run the following command : </p>
<div class="highlight"><pre><span></span>sphinx-apidoc -o rst/ ../<span class="nv">$PROJECT_NAME</span>
</pre></div>


<p>Where the directory <em>../$PROJECT_NAME</em> contains your source code.</p>
<p>This will create <em>.rst</em> (reStructuredText) files for every python file. These <em>.rst</em> in the source directory do not containt the docstrings, but just directives on how to build the documentation.</p>
<h2>Build the doc</h2>
<p>Build the Makefile in the <em>doc/</em> directory  (e.g. for html output) : </p>
<div class="highlight"><pre><span></span>make html
</pre></div>


<p>If you encounter this error : </p>
<p><img alt="" src="_images/python/how_to_create_doc/phinx_error.png"></p>
<p>It means sphinx could not locate the source (<em>.py</em>) files of your project. You need to indicate in the <em>conf.py</em> file in the <em>doc/</em> directory, the location of the source directory. To do this uncomment and complete the first few lines of the <em>conf.py</em> file in the <em>--- Path Setup ---</em> part : </p>
<p><img alt="" src="_images/python/how_to_create_doc/conf_path_setup.png"></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://cerco.ups-tlse.fr/">CerCo</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://tinmard.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/tinmarD">github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>